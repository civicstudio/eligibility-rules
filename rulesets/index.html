---
layout: default
title: "Rulesets API"
---

{% include nav.html %}

<main class="mx-auto max-w-7xl px-6 py-12">
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900">Rulesets API</h1>
    <p class="mt-2 text-gray-600">
      Machine-readable eligibility rulesets in JSON format. Each ruleset can be fetched and used programmatically.
    </p>
  </div>

  <!-- Try the Demo CTA -->
  <div class="mb-8 rounded-xl bg-primary-50 border border-primary-200 p-6">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
      <div>
        <h2 class="text-lg font-semibold text-primary-900">Try the Rules Engine</h2>
        <p class="mt-1 text-sm text-primary-700">
          See how rulesets are validated against user attributes in our interactive demo.
        </p>
      </div>
      <a
        href="/demo/"
        class="inline-flex items-center gap-2 rounded-md bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500 whitespace-nowrap"
      >
        <svg
          class="size-5"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 010 1.972l-11.54 6.347a1.125 1.125 0 01-1.667-.986V5.653z"
          />
        </svg>
        Launch Demo
      </a>
    </div>
  </div>

  <!-- API Info -->
  <div class="mb-8 rounded-xl bg-gray-50 border border-gray-200 p-6">
    <h2 class="text-lg font-semibold text-gray-900 mb-3">Usage</h2>
    <p class="text-sm text-gray-600 mb-4">
      Fetch any ruleset as JSON by its service ID:
    </p>
    <div class="rounded-lg bg-gray-900 p-4">
      <pre class="text-sm text-gray-100 overflow-x-auto"><code>GET {{ site.url }}/rulesets/{service_id}.json

# Example
curl {{ site.url }}/rulesets/calfresh.json</code></pre>
    </div>
  </div>

  <!-- Rulesets List -->
  <div class="mb-8">
    <h2 class="text-xl font-semibold text-gray-900 mb-4">Available Rulesets</h2>
    <p class="text-sm text-gray-500 mb-6">{{ site.rulesets.size }} rulesets available</p>

    <div class="border border-gray-200 rounded-xl overflow-hidden">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              Service
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              Jurisdiction
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              Rules
            </th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
              Endpoint
            </th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          {% for ruleset in site.rulesets %}
          <tr class="hover:bg-gray-50">
            <td class="px-6 py-4">
              <a
                href="/services/{{ ruleset.service_id }}/"
                class="text-primary-600 hover:text-primary-500 font-medium"
              >
                {{ ruleset.ruleset.name }}
              </a>
            </td>
            <td class="px-6 py-4 text-sm text-gray-500">
              {{ ruleset.ruleset.jurisdiction_id | capitalize }}
            </td>
            <td class="px-6 py-4 text-sm text-gray-500">
              {{ ruleset.ruleset.rules.size }} rules
            </td>
            <td class="px-6 py-4">
              <a
                href="{{ ruleset.url }}"
                class="inline-flex items-center gap-1.5 text-sm font-mono text-gray-700 bg-gray-100 px-2 py-1 rounded hover:bg-gray-200"
              >
                /rulesets/{{ ruleset.name }}.json
                <svg
                  class="size-4 text-gray-400"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"
                  />
                </svg>
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Schema Info -->
  <div class="rounded-xl border border-gray-200 p-6">
    <h2 class="text-lg font-semibold text-gray-900 mb-3">Ruleset Schema</h2>
    <p class="text-sm text-gray-600 mb-4">
      Each ruleset follows the standard schema with rules containing operators, values, and conditions.
    </p>
    <div class="flex gap-4">
      <a
        href="/data/schema/ruleset.schema.json"
        class="text-sm text-primary-600 hover:text-primary-500 font-medium"
      >
        View JSON Schema &rarr;
      </a>
      <a
        href="/docs/RULES_ENGINE.md"
        class="text-sm text-primary-600 hover:text-primary-500 font-medium"
      >
        Rules Engine Spec &rarr;
      </a>
    </div>
  </div>
</main>

{% include footer.html %}
